<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Kerri Miller]]></title>
  <link href="http://kerrizor.com/atom.xml" rel="self"/>
  <link href="http://kerrizor.com/"/>
  <updated>2014-04-07T09:04:46-07:00</updated>
  <id>http://kerrizor.com/</id>
  <author>
    <name><![CDATA[Kerri Miller]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[A Quick Intro to MongoDB in Rails]]></title>
    <link href="http://kerrizor.com/blog/2014/04/02/quick-intro-to-mongodb-in-rails/"/>
    <updated>2014-04-02T17:04:33-07:00</updated>
    <id>http://kerrizor.com/blog/2014/04/02/quick-intro-to-mongodb-in-rails</id>
    <content type="html"><![CDATA[<p>By Internet standards, MongoDB is a venerable NoSQL database. <!-- more -->First introduced in 2009, it was designed as a scalable document storage engine. In Mongo, we don&rsquo;t work with tables and rows, we work with <strong>collections</strong> and <strong>documents</strong>. Documents contain JSON/BSON hashes, so any data that can be represented as a hash can be stored in Mongo. Mongo is a <strong>schemaless</strong> database, meaning there&rsquo;s no requirements nor enforcement about the structure of the data in a document.</p>

<p>Mongo is able to handle massive data sets quickly and efficiently, and is used by many big data organizations, including Foursquare, bit.ly, and CERN for collecting Large Hadron Collider data.</p>

<h2>Installation</h2>

<p>This is fairly straight forward using homebrew.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">brew</span> <span class="n">install</span> <span class="n">mongodb</span>
</span></code></pre></td></tr></table></div></figure>


<p>When it finishes, it will print out some information on setting up Mongo to start whenever you start your computer. I&rsquo;m not a huge fan of that. Here&rsquo;s what I use:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">brew</span> <span class="n">services</span> <span class="n">start</span> <span class="n">mongodb</span>
</span></code></pre></td></tr></table></div></figure>


<p>..and to stop it:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">brew</span> <span class="n">services</span> <span class="n">stop</span> <span class="n">mongodb</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Mongo and Rails</h2>

<p>Let&rsquo;s make a new Rails application, but specify that we do NOT want Active Record installed.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">rails</span> <span class="kp">new</span> <span class="n">mongo</span><span class="o">-</span><span class="n">people</span> <span class="o">--</span><span class="n">skip</span><span class="o">-</span><span class="n">active</span><span class="o">-</span><span class="n">record</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>cd</code> into the project, and edit the Gemfile, add this line:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">gem</span> <span class="s2">&quot;mongoid&quot;</span><span class="p">,</span> <span class="ss">git</span><span class="p">:</span> <span class="s1">&#39;git://github.com/mongoid/mongoid.git&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Save, and then run</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">bundle</span> <span class="n">install</span>
</span></code></pre></td></tr></table></div></figure>


<p>Just as when using a relational DB such as SQLite, Postgres, or MySQL, we need a configuration file. Mongoid installs a custom Rails generator for us. Run:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">rails</span> <span class="n">generate</span> <span class="ss">mongoid</span><span class="p">:</span><span class="n">config</span>
</span></code></pre></td></tr></table></div></figure>


<p>Open up the file it creates, located at <code>config/mongoid.yml</code> and take a look. Take note of the different options we <em>could</em> configure. Don&rsquo;t make any changes at this time; its enough to just take a look at what the generator created on our behalf.</p>

<p>At this point, I like to run <code>rails s</code> and make sure the server starts, that everything is all hunkey-dorey. Once you&rsquo;ve checked in a browser that Rails is at least starting up correctly, let&rsquo;s make a new git repo and check in what we&rsquo;ve got so far.</p>

<p>Let&rsquo;s get started. Since this is a demonstration, let&rsquo;s cheat a little bit and use Rails&#8217; scaffolding generators to get us started.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">rails</span> <span class="n">generate</span> <span class="n">scaffold</span> <span class="n">person</span> <span class="nb">name</span> <span class="n">street</span> <span class="n">city</span> <span class="n">state</span>
</span></code></pre></td></tr></table></div></figure>


<p>Use <code>git status</code> to see what the command generated. It should all look pretty normal.. but let&rsquo;s take a look at the model it generated.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Person</span>
</span><span class='line'>  <span class="kp">include</span> <span class="ss">Mongoid</span><span class="p">:</span><span class="ss">:Document</span>
</span><span class='line'>  <span class="n">field</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="nb">String</span>
</span><span class='line'>  <span class="n">field</span> <span class="ss">:street</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="nb">String</span>
</span><span class='line'>  <span class="n">field</span> <span class="ss">:city</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="nb">String</span>
</span><span class='line'>  <span class="n">field</span> <span class="ss">:state</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="nb">String</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Quite different! MongoDB doesn&rsquo;t have a database schema, so no database migrations are needed. If we want a new field, we could just declare one in the model and add it to our views. Migrations are occasionally used, but they&rsquo;re for data migration or transformation, not changing the structure of the database.</p>

<p>Let&rsquo;s fire up our Rails server and visit the scaffolded route (at <code>http://localhost:3000/people</code>) There we see the vanilla Rails CRUD forms. Let&rsquo;s add a person.. and look at the URL in the show page &ndash; weird! We&rsquo;re used to seeing incrementing IDs created for us by the database. Each row that is added to the table increments the row counter by exactly 1, so we might say that each row has a locally unique sequential identifier.</p>

<p>MongoDB uses these weird looking hashes of alphanumerics like &ldquo;532e2ba7546f6c30aa000000&rdquo;. This <strong>Object ID</strong> is always 12 bytes, composed of a timestamp, client machine id, client process id, and a 3-byte incremented counter.</p>

<h2>Documents</h2>

<p>Let&rsquo;s take a look at what a document looks like.</p>

<p>You may have seen command line interfaces for PostgreSQL, so it shouldn&rsquo;t come as a shock that MongoDB offers one as well. In a terminal window:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">mongo</span> <span class="n">mongo_people_development</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note that I found the name of our database by looking at <code>config/mongoid.yml</code>.</p>

<p>Mongo uses its own special command language for working with its data. If you get stuck, just type <code>help</code>.</p>

<p>First, let&rsquo;s take a look at the collections in this database.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&gt;</span><span class="nx">show</span> <span class="nx">collections</span>
</span><span class='line'><span class="nx">people</span>
</span><span class='line'><span class="nx">system</span><span class="p">.</span><span class="nx">indexes</span>
</span><span class='line'><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>To find a record, the format is <code>db.[collection].find()</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&gt;</span> <span class="nx">db</span><span class="p">.</span><span class="nx">people</span><span class="p">.</span><span class="nx">find</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span> <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="nx">ObjectId</span><span class="p">(</span><span class="s2">&quot;532e2ba7546f6c30aa000000&quot;</span><span class="p">),</span> <span class="s2">&quot;name&quot;</span> <span class="o">:</span> <span class="s2">&quot;Kerri Miller&quot;</span><span class="p">,</span> <span class="s2">&quot;street&quot;</span> <span class="o">:</span> <span class="s2">&quot;123 Main Street&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span> <span class="o">:</span> <span class="s2">&quot;SEATTLE&quot;</span><span class="p">,</span> <span class="s2">&quot;state&quot;</span> <span class="o">:</span> <span class="s2">&quot;WA&quot;</span> <span class="p">}</span>
</span><span class='line'><span class="o">&gt;</span> <span class="nx">db</span><span class="p">.</span><span class="nx">people</span><span class="p">.</span><span class="nx">find</span><span class="p">({</span><span class="s2">&quot;state&quot;</span><span class="o">:</span><span class="s2">&quot;WA&quot;</span><span class="p">})</span>
</span><span class='line'><span class="p">{</span> <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="nx">ObjectId</span><span class="p">(</span><span class="s2">&quot;532e2ba7546f6c30aa000000&quot;</span><span class="p">),</span> <span class="s2">&quot;name&quot;</span> <span class="o">:</span> <span class="s2">&quot;Kerri Miller&quot;</span><span class="p">,</span> <span class="s2">&quot;street&quot;</span> <span class="o">:</span> <span class="s2">&quot;123 Main Street&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span> <span class="o">:</span> <span class="s2">&quot;SEATTLE&quot;</span><span class="p">,</span> <span class="s2">&quot;state&quot;</span> <span class="o">:</span> <span class="s2">&quot;WA&quot;</span> <span class="p">}</span>
</span><span class='line'><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note that the first command returned ALL documents in the collection, we just happened to only have one document, so that&rsquo;s all that was returned.</p>

<p>Remember when I said that MongoDB stores everything as JSON? Mongo actually uses JavaScript here in the command line.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&gt;</span> <span class="k">typeof</span> <span class="nx">db</span>
</span><span class='line'><span class="nx">object</span>
</span><span class='line'><span class="o">&gt;</span> <span class="k">typeof</span> <span class="nx">db</span><span class="p">.</span><span class="nx">people</span>
</span><span class='line'><span class="nx">object</span>
</span><span class='line'><span class="o">&gt;</span> <span class="k">typeof</span> <span class="nx">db</span><span class="p">.</span><span class="nx">people</span><span class="p">.</span><span class="nx">find</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kd">function</span>
</span><span class='line'><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>If we want to see what the code for a Mongo command looks like, we can call the function without parenthesis.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&gt;</span> <span class="nx">db</span><span class="p">.</span><span class="nx">people</span><span class="p">.</span><span class="nx">find</span>
</span><span class='line'><span class="kd">function</span> <span class="p">(</span> <span class="nx">query</span> <span class="p">,</span> <span class="nx">fields</span> <span class="p">,</span> <span class="nx">limit</span> <span class="p">,</span> <span class="nx">skip</span><span class="p">,</span> <span class="nx">batchSize</span><span class="p">,</span> <span class="nx">options</span> <span class="p">){</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">cursor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DBQuery</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">_mongo</span> <span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_db</span> <span class="p">,</span> <span class="k">this</span> <span class="p">,</span>
</span><span class='line'>                        <span class="k">this</span><span class="p">.</span><span class="nx">_fullName</span> <span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_massageObject</span><span class="p">(</span> <span class="nx">query</span> <span class="p">)</span> <span class="p">,</span> <span class="nx">fields</span> <span class="p">,</span> <span class="nx">limit</span> <span class="p">,</span> <span class="nx">skip</span> <span class="p">,</span> <span class="nx">batchSize</span> <span class="p">,</span> <span class="nx">options</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">getQueryOptions</span><span class="p">()</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">connObj</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getMongo</span><span class="p">();</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">readPrefMode</span> <span class="o">=</span> <span class="nx">connObj</span><span class="p">.</span><span class="nx">getReadPrefMode</span><span class="p">();</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">readPrefMode</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">cursor</span><span class="p">.</span><span class="nx">readPref</span><span class="p">(</span><span class="nx">readPrefMode</span><span class="p">,</span> <span class="nx">connObj</span><span class="p">.</span><span class="nx">getReadPrefTagSet</span><span class="p">());</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="nx">cursor</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Wrapping Up</h2>

<h3>Why MongoDB?</h3>

<p>MongoDB is designed to be highly-scalable and flexible, but remain familiar enough that application developers could use it easily. Working with Mongo is mostly the same as working with a traditional RDBMS (except for being unable to do server-side JOINs between two sets of data..)</p>

<p>Because it can&rsquo;t do server-side JOINs, the relationships between different objects (Users have Posts, Posts have Comments, Comments have Users) can be tricky, as you need to set up those relationships in the model.</p>

<h3>Why not MongoDB?</h3>

<p>How MongoDB encourages denormalization of schemas (by not having any) might be a little too much for some to swallow. Some developers find the cold, hard constraints of a relational database reassuring.</p>

<p>Although sometimes restrictive, a database schema and the restraints it places on our data can be reassuring and useful. While MongoDB offers a huge increase in scalability and speed of record retrieval, its inability to relate documents from 2 different collections &mdash; the key strength of a RDBMS &mdash; makes it often not the best case for a CRUD-focused web application.</p>

<p>Because MongoDB is focused on large datasets, it works best in large clusters, which can be a pain to design and manage.</p>

<h2>Resources</h2>

<p><strong>Why I think Mongo is to Databases what Rails was to Frameworks</strong></p>

<p>Meaty blog post from John Nunemaker on why you should use MongoDB
<a href="http://www.railstips.org/blog/archives/2009/12/18/why-i-think-mongo-is-to-databases-what-rails-was-to-frameworks/">http://www.railstips.org/blog/archives/2009/12/18/why-i-think-mongo-is-to-databases-what-rails-was-to-frameworks/</a></p>

<p><strong>Why you should never use MongoDB</strong></p>

<p>Lengthy blog post by Sarah Mei on the Discourse project&rsquo;s use of MongoDB, and why they ultimately migrated to PostgreSQL. The comments are actually worth reading.
<a href="http://www.sarahmei.com/blog/2013/11/11/why-you-should-never-use-mongodb/">http://www.sarahmei.com/blog/2013/11/11/why-you-should-never-use-mongodb/</a></p>

<p><strong>Mongoid Gem</strong></p>

<p>Good documentation about working with MongoDB from a Ruby and RoR perspective
<a href="http://mongoid.org/en/mongoid/">http://mongoid.org/en/mongoid/</a></p>

<p><strong>Railscast on Mongoid</strong></p>

<p><a href="http://railscasts.com/episodes/238-mongoid">http://railscasts.com/episodes/238-mongoid</a></p>

<p><strong>Railscast on MongoDB</strong></p>

<p>This one is a bit dated but worth a read-through.
<a href="http://railscasts.com/episodes/194-mongodb-and-mongomapper">http://railscasts.com/episodes/194-mongodb-and-mongomapper</a></p>

<p><strong>Devise with Mondoid</strong></p>

<p><a href="http://railsapps.github.io/tutorial-rails-mongoid-devise.html">http://railsapps.github.io/tutorial-rails-mongoid-devise.html</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails Internationalization (I18n)]]></title>
    <link href="http://kerrizor.com/blog/2014/03/31/rails-internationalization-i18n/"/>
    <updated>2014-03-31T12:01:32-07:00</updated>
    <id>http://kerrizor.com/blog/2014/03/31/rails-internationalization-i18n</id>
    <content type="html"><![CDATA[<p>Rails by default installs support for internationalization (or <em>I18n</em>) through the gem <code>i18n</code>. This gem add support for multiple language dictionaries and translation files, to let you easily change the language your site displays.</p>

<!-- more -->


<p>As you can imagine, I18n is a complex problem, since human languages differ in so many ways (pluralization, grammar, etc.) The Rails I18n API isn&rsquo;t perfect, but it does a fairly good job focusing on supporting English and other similar languages, and provides a framework to add support for languages that fall outside the paradigm of those (Japanese, Tagalog, or Hebrew, for example.)</p>

<h2>Getting Started</h2>

<p>Let&rsquo;s build a new Rails app and create a simple &ldquo;hello world&rdquo; page.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rails new i18n_demo
</span><span class='line'>$ cd i18n_demo
</span><span class='line'>$ rails g controller welcome</span></code></pre></td></tr></table></div></figure>


<p>I add a simple <code>views/welcome/index.html.erb</code> template, and we get a page that says &ldquo;Hello World&rdquo;. Now, let&rsquo;s use a translation dictionary to render this string.</p>

<p><em>welcome.html.erb</em>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erb'><span class='line'><span class="cp">&lt;%=</span> <span class="n">t</span><span class="p">(</span><span class="ss">:hello</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p><em>config/locales/en.yml</em>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">en</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="l-Scalar-Plain">hello</span><span class="p-Indicator">:</span> <span class="s">&quot;Hello</span><span class="nv"> </span><span class="s">world&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>We reload the page, and magic! Rails loads the string from the translation file.</p>

<p>Let&rsquo;s set this app up to give us this page in French. First, let&rsquo;s make a new translations file:</p>

<p><em>config/locales/fr.yml</em>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">fr</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="l-Scalar-Plain">hello</span><span class="p-Indicator">:</span> <span class="s">&quot;Bonjour!&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>There&rsquo;s a variety of ways to tell our Rails application we want to change from the default language (which is English.) For the purposes of this demonstration, we&rsquo;ll use a simple query string.</p>

<p><em>app/controllers/application_controller.rb</em>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">before_action</span> <span class="ss">:set_locale</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">set_locale</span>
</span><span class='line'>  <span class="no">I18n</span><span class="o">.</span><span class="n">locale</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:locale</span><span class="o">]</span> <span class="o">||</span> <span class="no">I18n</span><span class="o">.</span><span class="n">default_locale</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Let&rsquo;s restart our server, and append <code>?locale=fr</code> to our URL and see what happens.</p>

<p>Awesome!</p>

<p>We could define a translation file for any language; we&rsquo;re not limited to just the 2 letter language abbreviations!</p>

<p><em>config/locales/pirate.yml</em>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">pirate</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="l-Scalar-Plain">hello</span><span class="p-Indicator">:</span> <span class="s">&quot;Ahoy</span><span class="nv"> </span><span class="s">mateys!&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>By starting with I18n early in an app, its fairly easy to add new language support to your application. Generally its a matter of taking an existing translations file and sending it to a translator to interpret the strings for you, then adding it to your repo.</p>

<p>Of course, nothing is ever that simple.</p>

<h2>Interpolation</h2>

<p>What if we wanted to greet a user by name?</p>

<p><em>config/locales/en.yml</em>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">en</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="l-Scalar-Plain">hello_name</span><span class="p-Indicator">:</span> <span class="s">&#39;Hello,</span><span class="nv"> </span><span class="s">%{name}!&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p><em>app/views/welcome/index.html.erb</em>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erb'><span class='line'><span class="cp">&lt;%=</span> <span class="n">t</span><span class="p">(</span><span class="ss">:hello_name</span><span class="p">,</span> <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;Kerri&quot;</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>We&rsquo;re just putting a string in here, but it could easily be a value from an object. For example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erb'><span class='line'><span class="cp">&lt;%=</span> <span class="n">t</span><span class="p">(</span><span class="ss">:hello_name</span><span class="p">,</span> <span class="nb">name</span><span class="p">:</span> <span class="n">current_user</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>While this solution generally works fine, you may be able to already see how this is potentially a sticky situation, depending on the language!</p>

<h2>Pluralization</h2>

<p>The other situation that comes up that causes some problems is pluralization.</p>

<p><em>config/locales/en.yml</em>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">inbox</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="l-Scalar-Plain">zero</span><span class="p-Indicator">:</span> <span class="s">&#39;You</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">no</span><span class="nv"> </span><span class="s">messages&#39;</span>
</span><span class='line'>  <span class="l-Scalar-Plain">one</span><span class="p-Indicator">:</span> <span class="s">&#39;You</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">one</span><span class="nv"> </span><span class="s">message&#39;</span>
</span><span class='line'>  <span class="l-Scalar-Plain">other</span><span class="p-Indicator">:</span> <span class="s">&#39;You</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">%{count}</span><span class="nv"> </span><span class="s">messages&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p><em>app/views/welcome/index.html.erb</em>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erb'><span class='line'><span class="cp">&lt;%=</span> <span class="n">t</span><span class="p">(</span><span class="ss">:inbox</span><span class="p">,</span> <span class="ss">count</span><span class="p">:</span> <span class="mi">2</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Magic!</p>

<h2>Resources</h2>

<p><a href="http://guides.rubyonrails.org/i18n.html">Rails Guides &ndash; I18N</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Practice Makes Perfect]]></title>
    <link href="http://kerrizor.com/blog/2013/08/02/practice-makes-perfect/"/>
    <updated>2013-08-02T14:58:00-07:00</updated>
    <id>http://kerrizor.com/blog/2013/08/02/practice-makes-perfect</id>
    <content type="html"><![CDATA[<p><em>This post originally appeared on the <a href="http://www.bluebox.net/about/blog/2012/06/practice-make-perfect/">Blue Box blog</a></em></p>

<p>Contrary to popular belief, there is no such thing as “on the job training.” The skills that differentiate senior and lead developers from the herd don’t come from sheer number hours spent simply doing the job. You will pick up a lot of exposure to concepts, techniques, and processes that way, but without focused, deliberate practice, you’re just spinning your wheels.</p>

<!-- more -->


<p>When you’re working, the goals are to accomplish the task, avoid failure, and get things done. Space to truly engage in learning is incidental. You are in the closed mode; “don’t distract me, I’m on a mission!” Practice, on the other hand, is about working on a problem with the idea of exploring the problem area, of learning something, and your goal, oddly enough, is to Deliberately Fail.</p>

<p>At Blue Box Group, we have the usual geek clubhouse toys — a MAME cabinet with 1200+ video games, ping-pong, a kegerator (with two varieties of beer!), and a rather nice billiards table, which is our primary obsession these days. Not content with the classic pool hall games of 8-ball, 9-ball, or cut-throat, we play a peculiar game invented by our Principal Technologist we call “Calvin Pool.” The rules are simple – after the break, the person whose turn it is has to attempt to simply hit whichever ball on the table their opponent chooses with the cue ball. There are a few wrinkles, naturally, but more or less the game boils down to “try to make the most difficult shot possible.”</p>

<p>I can’t even begin to tell you how much my game has improved in the last few weeks. I’m making shots that long stymied me, shots that intimidate and impress people who are occasional players of the game. The practice of setting myself up to fail and practicing the difficult, exploring the various possible approaches to seemingly impossible problems, has made me confident when dealing with the easy obstacles.</p>

<p>Similarly, when practicing programming, you need to challenge yourself to learn through exploration and trials, and accept that, as often as not, failure is going to be your ultimate outcome. If you’re not failing, you’re not practicing – you’re just warming up. So, how does someone practice the art and skill of programming? Here are a couple ideas.</p>

<h3>Limit yourself</h3>

<p>Decide for an afternoon, a day, or even a week, you’re going to use a technique you’re unfamiliar with. Make life hard for yourself on purpose.</p>

<ul>
<li>MONKEY PATCH ALL THE THINGS!</li>
<li>Make everything a gem</li>
<li>TDD the living snot out of the next bug you fix</li>
<li>Use an IDE you don’t normally use for a month</li>
<li>Don’t use the letter ‘G’</li>
<li>Make all actions happen through observers</li>
</ul>


<p>By forcing yourself to find new patterns to solve your problems, you’ll quickly run into the current limits of your knowledge and experience, and push out past them.</p>

<h3>Have some fun while doing something dumb!</h3>

<p>Extend your practice by choosing a simple problem and keep solving it in new ways. Each time, add complications and obstructions. Solve a problem over and over, with new obstacles. For instance, let’s take this User Story as a place to start:</p>

<p>“The user will be able to convert a temperature in Celsius to Fahrenheit, and vice versa.”</p>

<p>Simple enough. Five minutes (or less) of Googling will turn up a myriad of solutions, and give you the basic math. Start with making it a small command-line app – easy-peasy lemon-squeezy! Once that’s done (you did tests, too, right?), let’s mutate it and iterate:</p>

<ul>
<li>Make it a gem</li>
<li>Release it on Github</li>
<li>Make it a website</li>
<li>Make it a mix-in on Numeric</li>
<li>Make it a web service</li>
<li>Find other temperature scales you could convert to and from</li>
<li>Have it attempt to resolve the user’s location via browser location or IP address, and give automated temperature conversions</li>
<li>Have it query wikipedia (or other data source) to offer information about the resulting temperature – trivia, facts, elements that melt or ignite or freeze at that temp, etc</li>
<li>Have it record the average, median, and min/max the user has calculated, and say witty things as milestones are passed</li>
<li>…</li>
</ul>


<p>Practice doesn’t have to be about flash cards and rote memorization. Try a little learning-by-doing, by applying concepts and techniques you want to try to your daily workflow but haven’t found the time for. Get your hands dirty and stretch outside your comfort zone, and approach previously solved and well-understood problems from a fresh perspective, to truly discover the benefits (and drawbacks) of approaches you’re unfamiliar with.</p>
]]></content>
  </entry>
  
</feed>
